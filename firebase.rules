rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow read access to all documents for public content
    match /artists/{document} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    match /events/{document} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    match /news/{document} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Donations - allow anyone to create donations, but only read with auth
    match /donations/{document} {
      allow read: if request.auth != null;
      allow create: if true;  // Allow anyone to make donations
      allow update, delete: if request.auth != null;
    }
    
    // Contact messages - allow anyone to submit, but only read with auth
    match /contact_messages/{document} {
      allow read, write: if request.auth != null;
      allow create: if true;  // Allow anyone to submit contact form
    }
    
    // Merchandise and staff - admin only
    match /merchandise/{document} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    match /staff/{document} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Admin section - only authenticated users can access
    match /admin/{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}